<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="navbar"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<nav style="display: flex; align-items: center; gap: 12px; padding: 10px 16px; background-color:#007bff; color:#fff; font-weight:600;">
    <!-- Left side links -->
    <div id = "left_side" style="display: flex; gap: 12px;">
        <a th:href="@{/}">Home</a>
        <a th:href="@{/perks}">Perks</a>
        <a th:href="@{/memberships}">Memberships</a>
        <a th:href="@{/products}">Products</a>
    </div>

    <!-- Right side links -->
    <div style="margin-left: auto; display: flex; align-items: center; gap: 12px;">
        <!-- Unauthenticated -->
        <span id = "not_authorized" sec:authorize="!isAuthenticated()">
            <a th:href="@{/login}">Login</a>
            <a th:href="@{/signup}">Sign Up</a>
        </span>

        <!-- Authenticated -->
        <span id = "authorized" sec:authorize="isAuthenticated()" style="display: flex; align-items: center; gap: 12px;">
        <span>Logged in as <span class="username-highlight" sec:authentication="name"></span></span>
            <a th:href="@{/profile}">View Profile</a>
            <form th:action="@{/logout}" method="post" style="margin:0;" class="flat-form">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit">Logout</button>
            </form>
        </span>
    </div>
</nav>
<hr/>
</body>
</html>
